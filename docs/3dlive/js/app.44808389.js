(function(e){function t(t){for(var n,c,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==o[s]&&(n=!1)}n&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},o={app:0},a=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var p=s;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"2eb1":function(e,t,r){},"372a":function(e,t,r){"use strict";r("551b")},"480f":function(e,t,r){"use strict";r("e140")},"49e7":function(e,t,r){"use strict";r("2eb1")},"551b":function(e,t,r){},"9ba1":function(e,t,r){"use strict";r("f2f9")},c99b:function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),o=(r("99af"),{id:"app",class:"AppComponent"}),a={class:"stage"},c={class:"control"},i={class:"btns"};function s(e,t,r,s,u,p){var l=Object(n["resolveComponent"])("CardStage"),d=Object(n["resolveComponent"])("PropCont");return Object(n["openBlock"])(),Object(n["createBlock"])("div",o,[Object(n["createVNode"])("div",a,[Object(n["createVNode"])(l,{cards:e.stageStatus.cards,selected:e.stageStatus.selected,"onUpdate:selected":t[1]||(t[1]=function(t){return e.stageStatus.selected=t}),perspective:e.stageStatus.perspective,preserve:e.stageStatus.preserve,perspectiveOrigin:"".concat(e.stageStatus.perspectiveOriginX,"% ").concat(e.stageStatus.perspectiveOriginY,"%"),offsetCenter:e.stageStatus.offsetCenter},null,8,["cards","selected","perspective","preserve","perspectiveOrigin","offsetCenter"])]),Object(n["createVNode"])("div",c,[Object(n["createVNode"])("div",i,[Object(n["createVNode"])("button",{onClick:t[2]||(t[2]=function(){return e.reset&&e.reset.apply(e,arguments)})},"リセット"),Object(n["createVNode"])("button",{onClick:t[3]||(t[3]=function(){return e.addCard&&e.addCard.apply(e,arguments)})},"カードを追加")]),Object(n["createVNode"])(d,{transforms:e.selectedCard.transforms,"onUpdate:transforms":t[4]||(t[4]=function(t){return e.selectedCard.transforms=t}),transformOriginX:e.selectedCard.originX,"onUpdate:transformOriginX":t[5]||(t[5]=function(t){return e.selectedCard.originX=t}),transformOriginY:e.selectedCard.originY,"onUpdate:transformOriginY":t[6]||(t[6]=function(t){return e.selectedCard.originY=t}),perspective:e.stageStatus.perspective,"onUpdate:perspective":t[7]||(t[7]=function(t){return e.stageStatus.perspective=t}),preserve:e.stageStatus.preserve,"onUpdate:preserve":t[8]||(t[8]=function(t){return e.stageStatus.preserve=t}),perspectiveOriginX:e.stageStatus.perspectiveOriginX,"onUpdate:perspectiveOriginX":t[9]||(t[9]=function(t){return e.stageStatus.perspectiveOriginX=t}),perspectiveOriginY:e.stageStatus.perspectiveOriginY,"onUpdate:perspectiveOriginY":t[10]||(t[10]=function(t){return e.stageStatus.perspectiveOriginY=t}),offsetCenter:e.stageStatus.offsetCenter,"onUpdate:offsetCenter":t[11]||(t[11]=function(t){return e.stageStatus.offsetCenter=t})},null,8,["transforms","transformOriginX","transformOriginY","perspective","preserve","perspectiveOriginX","perspectiveOriginY","offsetCenter"])])])}r("7db0");var u=Object(n["withScopeId"])("data-v-e585f3ae");Object(n["pushScopeId"])("data-v-e585f3ae");var p={class:"info"},l=Object(n["createVNode"])("div",{class:"grid"},null,-1),d=Object(n["createVNode"])("div",{class:"axis axisX"},null,-1),f=Object(n["createVNode"])("div",{class:"axis axisY"},null,-1),m=Object(n["createVNode"])("div",{class:"axis axisZ"},null,-1);Object(n["popScopeId"])();var v=u((function(e,t,r,o,a,c){var i=Object(n["resolveComponent"])("FlyingCard");return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"CardStageComponent",style:e.rootStyle},[Object(n["createVNode"])("div",p,Object(n["toDisplayString"])(e.selectedTransform),1),Object(n["createVNode"])("div",{class:["offsetMover",{offsetCenter:e.offsetCenter}]},[l,d,f,m,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.cards,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:t.id,transforms:t.transforms,origin:"".concat(t.originX,"% ").concat(t.originY,"%"),isfocused:t.id===e.selected,onClick:function(r){return e.select(t)}},null,8,["transforms","origin","isfocused","onClick"])})),128))],2)],4)})),O=(r("a9e3"),r("a15b"),r("d81d"),Object(n["withScopeId"])("data-v-80edd9b8")),b=O((function(e,t,r,o,a,c){var i=Object(n["resolveComponent"])("Card");return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"FlyingCardComponent",style:e.rootStyle,onClick:t[1]||(t[1]=function(){return e.onclick&&e.onclick.apply(e,arguments)})},[Object(n["createVNode"])(i)],4)})),g=Object(n["withScopeId"])("data-v-1a0facf2");Object(n["pushScopeId"])("data-v-1a0facf2");var j={class:"CardComponent"},y=Object(n["createVNode"])("h2",{class:"title"},"Click to Select",-1),V=Object(n["createVNode"])("div",{class:"text"}," Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip... ",-1);Object(n["popScopeId"])();var C=g((function(e,t,r,o,a,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",j,[Object(n["createVNode"])("img",{src:"https://picsum.photos/seed/".concat(e.imgSeed,"/300/150")},null,8,["src"]),y,V])})),N=0,S=Object(n["defineComponent"])({setup:function(){N++;var e=N+100;return{imgSeed:e}}});r("480f");S.render=C,S.__scopeId="data-v-1a0facf2";var x=S,k={x:"translateX",y:"translateY",z:"translateZ",rx:"rotateX",ry:"rotateY",rz:"rotateZ"},h={x:"px",y:"px",z:"px",rx:"deg",ry:"deg",rz:"deg"},X=Object(n["defineComponent"])({props:{transforms:{type:Array,default:function(){return[]}},origin:{type:String,default:"center center"},isfocused:{type:Boolean,default:!1}},components:{Card:x},emits:["click","change"],setup:function(e,t){var r=Object(n["computed"])((function(){var r=e.transforms.map((function(e){return"".concat(k[e.key],"(").concat(e.value).concat(h[e.key],")")})).join(" ");return t.emit("change",r),r})),o=Object(n["computed"])((function(){return{transform:r.value,transformOrigin:e.origin,border:e.isfocused?"2px solid #000":"none"}})),a=function(){t.emit("click")};return{rootStyle:o,onclick:a}}});r("e72f");X.render=b,X.__scopeId="data-v-80edd9b8";var Y=X,P=Object(n["defineComponent"])({components:{FlyingCard:Y},props:{cards:{type:Array,default:function(){return[]}},perspective:{type:Number,default:600},preserve:{type:Boolean,default:!1},perspectiveOrigin:{type:String,default:"0% 0%"},selected:{type:String,default:""},offsetCenter:{type:Boolean,default:!0}},emits:["update:selected"],setup:function(e,t){var r=Object(n["computed"])((function(){return{perspective:e.perspective+"px",transformStyle:e.preserve?"preserve-3d":"initial",perspectiveOrigin:e.perspectiveOrigin}})),o=function(e){t.emit("update:selected",e.id)},a=Object(n["computed"])((function(){var t=e.cards.find((function(t){return t.id===e.selected}));return t?t.transforms.map((function(e){return"".concat(k[e.key],"(").concat(e.value).concat(h[e.key],")")})).join(" "):""}));return{rootStyle:r,select:o,selectedTransform:a}}});r("9ba1");P.render=v,P.__scopeId="data-v-e585f3ae";var B=P,U=Object(n["withScopeId"])("data-v-303e2a1d");Object(n["pushScopeId"])("data-v-303e2a1d");var w={class:"PropContComponent"},I={class:"staticListGroup"},_={class:"listGroupItem"},M={class:"itemContent"},z=Object(n["createTextVNode"])("原点を画面中央にずらす"),G=Object(n["createVNode"])("div",{class:"label"},[Object(n["createTextVNode"])(" stage style "),Object(n["createVNode"])("span",{class:"info"},"（親要素のスタイル）"),Object(n["createTextVNode"])(": ")],-1),T={class:"staticListGroup"},A={class:"listGroupItem"},D={class:"itemContent"},E={class:"listGroupItem"},J={class:"itemContent"},L=Object(n["createTextVNode"])("preserve3d"),Z={class:"listGroupItem"},F={class:"itemContent"},q=Object(n["createVNode"])("div",null,"perspective-origin:",-1),R=Object(n["createVNode"])("div",{class:"label"},"transform-origin:",-1),H={key:0,class:"staticListGroup"},K={class:"listGroupItem"},Q={class:"itemContent"},W=Object(n["createVNode"])("div",{class:"label"},[Object(n["createTextVNode"])("transform "),Object(n["createVNode"])("span",{class:"info"},"（下から合成）"),Object(n["createTextVNode"])(":")],-1),$={class:"listGroupItem"},ee={class:"itemContent"};Object(n["popScopeId"])();var te=U((function(e,t,r,o,a,c){var i=Object(n["resolveComponent"])("Slider"),s=Object(n["resolveComponent"])("draggable");return Object(n["openBlock"])(),Object(n["createBlock"])("div",w,[Object(n["createVNode"])("ul",I,[Object(n["createVNode"])("li",_,[Object(n["createVNode"])("div",M,[Object(n["createVNode"])("label",null,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.stageProps.offsetCenter=t})},null,512),[[n["vModelCheckbox"],e.stageProps.offsetCenter]]),z])])])]),G,Object(n["createVNode"])("ul",T,[Object(n["createVNode"])("li",A,[Object(n["createVNode"])("div",D,[Object(n["createVNode"])(i,{label:"perspective",modelValue:e.stageProps.perspective,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.stageProps.perspective=t}),min:0,max:1e3,suffix:"px"},null,8,["modelValue"])])]),Object(n["createVNode"])("li",E,[Object(n["createVNode"])("div",J,[Object(n["createVNode"])("label",null,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.stageProps.preserve=t})},null,512),[[n["vModelCheckbox"],e.stageProps.preserve]]),L])])]),Object(n["createVNode"])("li",Z,[Object(n["createVNode"])("div",F,[q,Object(n["createVNode"])(i,{label:"X",modelValue:e.stageProps.perspectiveOriginX,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.stageProps.perspectiveOriginX=t}),min:-20,max:120,suffix:"%"},null,8,["modelValue"]),Object(n["createVNode"])(i,{label:"Y",modelValue:e.stageProps.perspectiveOriginY,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.stageProps.perspectiveOriginY=t}),min:-20,max:120,suffix:"%"},null,8,["modelValue"])])])]),R,void 0!==e.cardProps.transformOriginX?(Object(n["openBlock"])(),Object(n["createBlock"])("ul",H,[Object(n["createVNode"])("li",K,[Object(n["createVNode"])("div",Q,[Object(n["createVNode"])(i,{label:"X",modelValue:e.cardProps.transformOriginX,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.cardProps.transformOriginX=t}),min:0,max:100,suffix:e.transformOriginXSuffix},null,8,["modelValue","suffix"]),Object(n["createVNode"])(i,{label:"Y",modelValue:e.cardProps.transformOriginY,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.cardProps.transformOriginY=t}),min:0,max:100,suffix:e.transformOriginYSuffix},null,8,["modelValue","suffix"])])])])):Object(n["createCommentVNode"])("",!0),W,Object(n["createVNode"])(s,Object(n["mergeProps"])({class:"draggableListGroup",tag:"transition-group","component-data":{tag:"ul",type:"transition-group",name:e.state.drag?null:"flip-list"},modelValue:e.list,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.list=t})},e.state.dragOptions,{onStart:t[9]||(t[9]=function(t){return e.state.drag=!0}),onEnd:t[10]||(t[10]=function(t){return e.state.drag=!1}),"item-key":"id"}),{item:U((function(t){var r=t.element;return[Object(n["createVNode"])("li",$,[Object(n["createVNode"])("div",ee,[Object(n["createVNode"])(i,{label:e.names[r.key],modelValue:r.value,"onUpdate:modelValue":function(e){return r.value=e},min:e.ranges[r.key][0],max:e.ranges[r.key][1]},null,8,["label","modelValue","onUpdate:modelValue","min","max"])])])]})),_:1},16,["component-data","modelValue"])])})),re=r("b76a"),ne=r.n(re),oe={class:"SliderComponent"},ae={class:"label"},ce={class:"value"};function ie(e,t,r,o,a,c){var i=Object(n["resolveComponent"])("VueSlider");return Object(n["openBlock"])(),Object(n["createBlock"])("label",oe,[Object(n["createVNode"])("span",ae,Object(n["toDisplayString"])(e.label)+"：",1),Object(n["createVNode"])("span",ce,Object(n["toDisplayString"])(e.value)+Object(n["toDisplayString"])(e.suffix),1),Object(n["createVNode"])("div",{class:"slider",onPointerdown:t[2]||(t[2]=function(){return e.cancelEvent&&e.cancelEvent.apply(e,arguments)}),onPointermove:t[3]||(t[3]=function(){return e.cancelEvent&&e.cancelEvent.apply(e,arguments)})},[Object(n["createVNode"])(i,{min:e.min,max:e.max,interval:e.step,modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.value=t})},null,8,["min","max","interval","modelValue"])],32)])}var se=r("4971"),ue=r.n(se),pe=(r("3e39"),Object(n["defineComponent"])({props:{modelValue:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},label:{type:String,default:""},suffix:{type:String,default:""}},emits:["update:modelValue"],components:{VueSlider:ue.a},setup:function(e,t){var r=Object(n["computed"])({get:function(){return e.modelValue},set:function(e){return t.emit("update:modelValue",1*e)}}),o=function(e){e.stopPropagation()};return{value:r,cancelEvent:o}}}));pe.render=ie;var le=pe,de={x:"移動(X)",y:"移動(Y)",z:"移動(Z)",rx:"回転(X)",ry:"回転(Y)",rz:"回転(Z)"},fe={x:[-500,500],y:[-500,500],z:[-500,500],rx:[-360,360],ry:[-360,360],rz:[-360,360]},me=Object(n["defineComponent"])({components:{draggable:ne.a,Slider:le},props:{transforms:{type:Array,default:function(){return[]}},transformOriginX:{type:Number},transformOriginY:{type:Number},perspective:{type:Number,default:0},preserve:{type:Boolean,default:!1},perspectiveOriginX:{type:Number,default:0},perspectiveOriginY:{type:Number,default:0},offsetCenter:{type:Boolean,default:!0}},emits:["update:transforms","update:transformOriginX","update:transformOriginY","update:perspective","update:preserve","update:perspectiveOriginX","update:perspectiveOriginY","update:offsetCenter"],setup:function(e,t){var r=Object(n["reactive"])({drag:!1,dragOptions:{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}),o=Object(n["computed"])({get:function(){var t;return null!==(t=e.transforms)&&void 0!==t?t:[]},set:function(e){t.emit("update:transforms",e),console.log("update:transforms",e)}}),a=Object(n["reactive"])({perspective:Object(n["computed"])({get:function(){return e.perspective},set:function(e){return t.emit("update:perspective",e)}}),preserve:Object(n["computed"])({get:function(){return e.preserve},set:function(e){return t.emit("update:preserve",e)}}),perspectiveOriginX:Object(n["computed"])({get:function(){return e.perspectiveOriginX},set:function(e){return t.emit("update:perspectiveOriginX",e)}}),perspectiveOriginY:Object(n["computed"])({get:function(){return e.perspectiveOriginY},set:function(e){return t.emit("update:perspectiveOriginY",e)}}),offsetCenter:Object(n["computed"])({get:function(){return e.offsetCenter},set:function(e){return t.emit("update:offsetCenter",e)}})}),c=Object(n["reactive"])({transformOriginX:Object(n["computed"])({get:function(){return e.transformOriginX},set:function(e){return t.emit("update:transformOriginX",e)}}),transformOriginY:Object(n["computed"])({get:function(){return e.transformOriginY},set:function(e){return t.emit("update:transformOriginY",e)}})}),i=Object(n["ref"])(fe),s=Object(n["ref"])(de),u=function(e,t){return void 0==e?"":0===e?"% = "+(t?"left":"top"):50===e?"% = center":100===e?"% = "+(t?"right":"bottom"):void 0},p=Object(n["computed"])((function(){return u(e.transformOriginX,!0)})),l=Object(n["computed"])((function(){return u(e.transformOriginY,!1)}));return{state:r,list:o,ranges:i,stageProps:a,cardProps:c,names:s,transformOriginXSuffix:p,transformOriginYSuffix:l}}});r("372a");me.render=te,me.__scopeId="data-v-303e2a1d";var ve=me,Oe={cards:[],selected:"",perspective:600,preserve:!0,perspectiveOriginX:50,perspectiveOriginY:45,offsetCenter:!0},be=function(e,t){return Math.round(e+(t-e)*Math.random())},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{id:"card-".concat(Math.ceil(1e6*Math.random())),transforms:[{id:"0",key:"x",value:e?be(-300,200):0},{id:"1",key:"y",value:e?be(-400,200):0},{id:"2",key:"z",value:e?be(-100,100):0},{id:"3",key:"rx",value:e?be(-30,30):0},{id:"4",key:"ry",value:e?be(-30,30):0},{id:"5",key:"rz",value:e?be(-30,30):0}],originX:50,originY:50}},je=function(){var e=JSON.parse(JSON.stringify(Oe));return e},ye=function(){var e=window.location.hash.substring(1);try{var t=JSON.parse(decodeURIComponent(e));if(!t)return;var r=je();return Object.assign(r,t),t}catch(n){return}},Ve=Object(n["defineComponent"])({name:"App",components:{CardStage:B,PropCont:ve},setup:function(){var e,t=Object(n["reactive"])(null!==(e=ye())&&void 0!==e?e:je()),r=function(){var e=0!==t.cards.length;t.cards.push(ge(e))},o=function(){Object.assign(t,je()),r()},a=Object(n["computed"])((function(){var e;return null!==(e=t.cards.find((function(e){return e.id===t.selected})))&&void 0!==e?e:{}}));return Object(n["watch"])((function(){return t}),(function(){var e=JSON.stringify(t);window.location.hash=encodeURIComponent(e)}),{deep:!0}),t.cards.length||r(),{stageStatus:t,reset:o,addCard:r,selectedCard:a}}});r("49e7");Ve.render=s;var Ce=Ve;Object(n["createApp"])(Ce).mount("#app")},e140:function(e,t,r){},e72f:function(e,t,r){"use strict";r("c99b")},f2f9:function(e,t,r){}});
//# sourceMappingURL=app.44808389.js.map